# SQLite SELECT DISTINCT ##############

[Файл с запросами][querys]   
[Оригинальная статья][origin]

[querys]: ./querys.sql
[origin]: https://www.sqlitetutorial.net/sqlite-distinct/

## Обзор ##############################

В этом руководстве вы изучите, как, используя предложение SQLite `SELECT DISTINCT`, убрать дублирующиеся строки в результирующем наборе.

## Знакомство с предложением SQLite `SELECT DISTINCT`

Предложение `DISTINCT` является необязательным предложением оператора `SELECT`. Предложение `DISTINCT` позволяет вам удалить дублирующиеся строки в результирующем наборе.

Следующее выражение показывает синтаксис предложения `DISTINCT`:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT DISTINCT select_list
FROM table;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

В частности:

- Во-первых, предложение `DISTINCT` должно употреблятся сразу после ключевого слова `SELECT`.
- Во-вторых, помещайте столбец, или список столбцов после ключевого слова `DISTINCT`. Если вы используете один столбец, SQLite использует значения в столбце, чтобы вычислить дубликат. В случае, когда вы используете несколько колонок, SQLite использует комбинацию значений в этих колонках, чтобы вычислить дубликат.

SQLite считает значения `NULL` как дубликаты. Если вы используете предложение `DISTINCT` с колонкой, которая имеет `NULL` значения, SQLite будет оставлять одну строку со значением `NULL`.

> В теории баз данных, если колонка содержит значения `NULL`, это означает, что мы не имеем информации об этом столбце с конкретной записью, или информация не приминима.

К примеру, если клиент имеет номер телефона со значением `NULL`, это значит, что мы не миеем информации о его номере телефона на момент записи информации о нем, или клиент может вообще не иметь номера телефона.

## Примеры SQLite `SELECT DISTINCT` ###

Для демонстрации мы будем использовать таблицу `customers`.

| customets      |
|----------------|
| * CustomerId   |
|   FirstName    |
|   LastName     |
|   Company      |
|   Address      |
|   City         |
|   State        |
|   Country      |
|   PostalCode   |
|   Phone        |
|   Fax          |
|   Email        |
|   SupportRepId |

Предположим, вы хотите знать города, где находятся клиенты, вы можете использовать оператор `SELECT` чтобы получить данные из колонки `city` таблицы `customers` как показано ниже:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT city
FROM customers
ORDER BY city;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Возыращено 59 строк. Есть несколько дублированных строк, таких как `Berlin` `London`, и `Montain View`. Чтобы убрать эти дублированные строки используйте предложение `DISTINCT` как показано ниже:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT DISTINCT city
FROM customers
ORDER BY city;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Возвращено 53 строки, потому что предложение `DISTINCT` убрало 6 дублированных строк.

## SQLite `SELECT DISTINCT` для нескольких столбцов

Следующее выражение ищет города и страны для всех клиентов.

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT
  city,
  country
FROM
  customers
ORDER BY
  country;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Как показано на скриншоте (его нет), результирующий набор содержит дубликаты городов и стран, таких как Sao Paulo в Бразилии.

Чтобы удалить дубликаты городов и стран, вы должны применить предложение `DISTINCT` к обоим колонкам sity и country как показано в запросе ниже:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT DISTINCT
  city,
  country
FROM
  customers
ORDER BY
  country;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Как упоминалось ранее, SQLite использует комбинацию города и страны для вычисления дубликатов.

## Пример SQLite `SELECT DISTINCT` cо значение `NULL`

Это выражение вернет названия компаний клиента из таблицы `customers`.

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT company
FROM customers;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Возвращено 59 строк с множеством значений `NULL`.

Теперь, если вы примените предложение `DISTINCT` к выражению, оно оставит только одну строку со значением `NULL`.

Посмотрите следующее выражение:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT DISTINCT company
FROM customers;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Выражение вернуло 11 строк с одним значением `NULL`.

Обратите внимение, что если вы выберете список столбцов из таблицы и хотите получить уникальную комбинацию каких-то столбцов, вы можете использовать предложение `GROUP BY`.

В этом руководстве вы изучили, как удалить дупбликаты строк из результирующей выборки, используя предложение SQLite `SELECT DISTINCT`. 

Предидущее руководство < [SQLite ORDER BY][prev]  
Следующее руководство > [SQLite WHERE][next]

[prev]: ../SQLiteOrderBy/translate.md
[next]: ../SQLiteWhere/translate.md