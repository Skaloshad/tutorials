# SQLite DELETE #########################

[Файл с запросами][querys]   
[Оригинальная статья][origin]

[querys]: ./querys.sql
[origin]: https://www.sqlitetutorial.net/sqlite-delete/

## Обзор ##############################

Это руководство покажет вам, как, используя выражение SQLite `DELETE` удалять строки из таблицы.

## Знакомство с выражением SQLite `DELETE`

Вы изучили, как вставлять строки в таблицу и обновлять существующие данные в таблице. Иногда вам нужно удалять строки из таблицы. В этом случае используется выражение SQLite `DELETE`.

Выражение SQLite `DELETE` позволяет вам удалить одну строку, несколько строк и все строки в таблице. Ниже предствален синтаксис выражения SQLite `DELETE`:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DELETE FROM table
WHERE search_condition;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

В этом синтаксисе:

- Первое, укажите название таблицы из которой вы хотите удалить строки после ключегого слова `DELETE FROM`.

- Второе, добавте условие поиска в предложение `WHERE` для определения удаляемых строк. Предложение `WHERE` является необязательной частью выражения `DELETE`. Если вы пропустите предложение `WHERE`, выражение `DELETE` удалит все строки из таблицы.

SQLite так-же поддерживает расширение выражения `DELETE` путем добавления предложений `ORDER BY` и `LIMIT`. Если вы скомпилируете SQLite с опцией `SQLITE_ENABEL_UPDATE_DELTE_LIMIT`, вы сможете использовать предложения `ORDER BY` и `LIMIT` в выражении `DELETE` как показано ниже:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DELETE FROM table
WHERE search_condition
ORDER BY criteria
LIMIT row_count OFFSET offset;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Предложение `ORDER BY` сортирует строки отфильтрованные предыдущим `search_condition` в предложении `WHERE` и предложение `LIMIT` определяет количество строк, которые будут удалены.

> Обратите внимание, что когда вы используете выражение `DELETE` без предложения `WHERE` на таблице на которой нет триггеров. SQLite удилит все строки за раз, без прохода по ним. Эта функция называется оптимизацией усечения.

## Примеры выражения SQLite `DELETE`

Мы будем использовать таблицу `artists_backup`, созданную в руководстве по вставке строк.

Если вы не проходили это руководство, вы можете создать таблицу `artists_backup` и вставить туда данные, испльзуя следующий скрипт:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- create artists backup table
CREATE TABLE artists_backup (
  artistId INTEGER PRIMARY KEY AUTOINCREMENT,
  name NVARCHAR
);
-- populate data from the artists table
INSERT INTO artists_backup
SELECT artistId, name
FROM artists;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Следующее выражение вернет все строки из таблицы `artists_backup`:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT
  artistId,
  name
FROM
  artists_backup;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

У нас есть 280 строк в таблице `artists_backup`.

Для удаления исполнителя с id 1 используется следующее выражение:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DELETE FROM artists_backup
WHERE artistId = 1;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Из-за того, что мы использовали `artistId` для определения исполнителя, выражение удалило ровно одну строку.

Предположим, вы хотите удалить исполнителей, чьи имена содержат слово `Santana`:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DELETE FROM artists_backup
WHERE name LIKE '%Santana%';
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Есть 9 строк, значения столбца `name` которых содержит слово `Santana`, следовательно, эти 9 строк были удалены.

Для удаления всех строк из таблицы `artists_backup`, вы просто опускаете предложение `WHERE`, как показано ниже:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DELETE FROM artists_backup;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

В этом руководстве вы изучили, как, используя выражение SQLite `DELETE` удалять строки из таблицы.

Предидущее руководство < [SQLite UPDATE][prev]  
Следующее руководство > [SQLite REPLACE][next]

[prev]: ../26_Update/translate.md
[next]: ../28_Replace/translate.md