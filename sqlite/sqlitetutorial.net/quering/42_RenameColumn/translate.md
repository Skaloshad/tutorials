# SQLite RENAME COLUMN #########################

[Файл с запросами][querys]   
[Оригинальная статья][origin]

[querys]: ./querys.sql
[origin]: https://www.sqlitetutorial.net/sqlite-rename-column/

## Обзор ##############################

В этом руководстве вы узнаете, как шаг за шагом переименовать столбец в таблице SQLite

## Знакомство с выражением SQLite `ALTER TABLE RENAME COLUMN`

В версии SQLite 3.25.0 была добавлена поддержка переименования столбца с помощью выражениея `ALTER TABLE` используя следующий синтаксис:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ALTER TABLE table_name
RENAME COLUMN current_name TO new_name;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

1. Определите название таблицы после ключегого слова `ALTER TABLE`.

2. Укажите имя столбца, который вы хотите преименовать после ключевого слова `RENAME COLUMN` и новое название столбца прсле ключевого слова `TO`.

## Пример SQLite `ALTER TABLE RENAME COLUMN`

Давайте приведем пример использования выражения `ALTER TABLE RENAME COLUMN`.

1. Создадим новую таблицу под названием `locations`:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
CREATE TABLE locations (
  locationId INTEGER PRIMARY KEY,
  address TEXT NOT NULL,
  city TEXT NOT NULL,
  state TEXT NOT NULL,
  country TEXT NOT NULL
);
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

2. Вставим новую строку в таблицу `locations` используя выражение `INSERT`:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
INSERT INTO locations (address, city, state, country)
VALUES ('3960 North 1st Street', 'San Jose', 'CA', 'USA');
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

3. Переименуем столбец `address` в `street` используя `ALTER TABLE RENAME COLUMN`:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ALTER TABLE locations
RENAME COLUMN address TO street;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

4. Выберем данные из таблицы `locations`:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT * FROM locations;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

5. Покажем схему таблицы `locations`:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.schema locations
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

## Старый спосод переименования таблицы

SQLite не поддерживала переименование столюцов до версии 3.25.0.

Если вы используете версию меньше чем 3.25.0 и не можете обновиться, то вы должны придерживаться следующих шагов чтобы переименовать столбец:

1. Начните транзакцию
2. Создайте новую таблицу с такой же структурой, как и у таблицы в которой вы хотите изменить название столбца. Переименуйте столбец.
3. Скопируйте данные из старой таблици в новую.
4. Удалите исходную таблицу.
5. Переименуйте новоую таблицу в старую.
6. Завершите транзакцию.

---------------------------------------

Предидущее руководство < [SQLite ALTER TABLE][prev]  
Следующее руководство > [SQLite DROP TABLE][next]

[prev]: ../41_AlterTable/translate.md
[next]: ../43_DropTable/translate.md