# SQLite CROSS JOIN ######################

[Файл с запросами][querys]   
[Оригинальная статья][origin]

[querys]: ./querys.sql
[origin]: https://www.sqlitetutorial.net/sqlite-cross-join/

## Обзор ##############################

В этом руководстве вы узнаете, как использовать SQLite `CROSS JOIN` для комбинирования двух и более результирующих наборов из нескольких таблиц.

## Знакомство с предложением SQLite `CROSS JOIN`

Если вы используете `LEFT JOIN`, `INNER JOIN` или `CROSS JOIN` без использования предложнения `ON` или `USING`, SQLite выполнит Декартово произведение связываемых таблиц. Количество строк в Декартовом произведении - это произведение количества строк каждой используемой таблицы.

Предположим, мы имеем две таблицы `A` и `B`. Следующее выражение выполняет перекрестное объединение и производит Декартово произведение строк таблиц `A` и `B`.

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT *
FROM A JOIN B;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT *
FROM A
INNER JOIN B;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT *
FROM A
CROSS JOIN B;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT *
FROM A, B;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Предположим, что таблица `A` имеет `N` строк и таблица `B` имеет `M` строк, тогда `CROSS JOIN` этих двух таблиц произведет результирующий набор, содержащий `NxM` строк.

Представим, что если у вы имеете третью таблицу `C` с `K` строк, то результат предложения `CROSS JOIN` всех трех таблиц будет содержать `NxMxK` строк, что может быть огромным значением. Следовательно, вы должны быть очень аккуратны, когда используете предложение `CROSS JOIN`.

Предложения `INNER JOIN` и `LEFT JOIN` обычно используютя более часто, чем предложение `CROSS JOIN`. Однако вы можете обнаружить, что предложение `CROSS JOIN` может быть очень хорошо использовано в некороных ситуациях.

Например, если вы хотите получить матрицу, которая имее два измерения, полностью заполненную данными, такими как участники и даты из базы участников. Вы хотите проверить обслуживание клиентов на все существующие даты. В этом случае вы можете использовать предложение `CROSS JOIN` как показано ниже:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT
  name,
  date
FROM
  members
CROSS JOIN
  dates;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

## Пример предложения SQLite `CROSS JOIN`

Слудующее выражение создает таблицы `ranks` и `suits`, которые хранят ранги и масти колоды карт, и вставляет полные данные в эти две таблицы.

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
CREATE TABLE ranks (
  rank TEXT NOT NULL
);

CREATE TABLE suits (
  suit TEXT NOT NULL
);

INSERT INTO ranks(rank)
VALUES ('2'), ('3'), ('4'), ('5'), ('6'), ('7'), ('8'), ('9'), ('10'), ('J'), ('Q'), ('K'), ('A');

INSERT INTO sutis(suit)
VALUES ('Clubs'), ('Diamonds'), ('Hearts'), ('Spades');
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Следующее выражение использует `CROSS JOIN` для возврата данный о полной колоде кард:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT 
  rank,
  suit
FROM
  ranks
CROSS JOIN
  suits
ORDER BY
  suit;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
| rank |    suit    |
|------|------------|
| 2    | Clubs      |
| 3    | Clubs      |
| 4    | Clubs      |
| 5    | Clubs      |
| 6    | Clubs      |
| 7    | Clubs      |
| 8    | Clubs      |
| 9    | Clubs      |
| 10   | Clubs      |
| J    | Clubs      |
| Q    | Clubs      |
| K    | Clubs      |
| A    | Clubs      |
| 2    | Diamonds   |
| 3    | Diamonds   |
| 4    | Diamonds   |
| 5    | Diamonds   |
| 6    | Diamonds   |
| 7    | Diamonds   |
| 8    | Diamonds   |
| 9    | Diamonds   |
| 10   | Diamonds   |
| J    | Diamonds   |
| Q    | Diamonds   |
| K    | Diamonds   |
| A    | Diamonds   |
| 2    | Hearts     |
| 3    | Hearts     |
| 4    | Hearts     |
| 5    | Hearts     |
| 6    | Hearts     |
| 7    | Hearts     |
| 8    | Hearts     |
| 9    | Hearts     |
| 10   | Hearts     |
| J    | Hearts     |
| Q    | Hearts     |
| K    | Hearts     |
| A    | Hearts     |
| 2    | Spades     |
| 3    | Spades     |
| 4    | Spades     |
| 5    | Spades     |
| 6    | Spades     |
| 7    | Spades     |
| 8    | Spades     |
| 9    | Spades     |
| 10   | Spades     |
| J    | Spades     |
| Q    | Spades     |
| K    | Spades     |
| A    | Spades     |

В этом руководстве вы изучили как использовать предложение SQLite `CROSS JOIN` для получения Декартового произведения нескольких таблиц, учавствующих в объединении.

Предидущее руководство < [SQLite LEFT JOIN][prev]  
Следующее руководство > [SQLite FULL OUTER JOIN][next]

[prev]: ../13_LeftJoin/translate.md
[next]: ../15_FullOuterJoin/translate.md
