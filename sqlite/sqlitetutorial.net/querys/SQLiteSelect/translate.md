# SQLite SELECT #######################

[Файл с запросами][querys]

[querys]: ./querys.sql

## Обзор ##############################

В этом руководстве вы узнаете, как использовать оператор SQLite `SELECT` для запроса данных из одной таблицы.

Оператор `SELECT` являнтся одиним из наиболее часто используемых операторов в SQL. Оператор SQLite `SELECT` предоставляет все возможности оператора `SELECT` в стандарте SQL.

## Простое использование оператора SELECT

Вы можете использовать оператор `SELECT` чтобы произвести простые вычисления следующим образом:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT 1 + 1;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Вы можете использовать несколько выражений в операторе `SELECT` следующим образом:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT
    10 / 5,
    2 * 4;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

## Запрос данных из таблицы с помощью оператора SELECT

Обычно мы используем оператор `SELECT` для запроса данных из одной или более таблиц. Синтаксис оператора `SELECT` выглядит следующим образом:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT DISTINCT column_list
FROM table_list
  JOIN table ON join_condition
WHERE row_filter
ORDER BY column
LIMIT count OFFSET offset
GROUP BY column
HAVING group_filter;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Оператор `SELECT` является одним из самых сложных операторов SQLite. Чтобы облегчить понимание каждой части, мы разобьем оператор `SELECT` на несколько простых для понимания руководств.

- Используйте предложение [ORDER BY][] для сортировки результирующего набора
- Используйте предложение [DISTINCT][] для выбора уникальных строк из таблицы
- Используйте предложение [WHERE][] для фильтрации строк результирующего набора
- Используйте предложения [LIMIT][] и [OFFSET][] для ограничения количества возвращаемых строк
- Используйте [INNER JOIN][] или [LEFT JOIN][] для выбора данных из нескольких таблиц с помощью объединения
- Используйте [GROUP BY][] чтобы объединить строки в группы и применить функции аггрегации для каждой группы
- Используйте предложение [HAVING][] для фильтрации групп

В этом руководстве мы сосредоточимся на простейшей форме оператора `SELECT`, которая позволяет запрашивать данные из одной таблицы.

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT columb_list
FROM table;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Несмотря на то, что предложение `SELECT` находится раньше предложения `FROM`, SQLite оценивает предложение `FROM` как первое, а затем `SELECT`, поэтому:

- Во-первых, в предложении `FROM`, укажите таблицу, из которой вы хотите получать данные. Обратите внимание, что в предложении `FROM` может быть несколько таблиц. Мы обсудим это в последующих руководствах.
- Во-вторых, укажите в предложении `SELECT`, столбец, или список столбцов, разделенный запятыми.

Используйте точку с запятой `;` для завершения оператора.

[ORDER BY]: https://www.sqlitetutorial.net/sqlite-order-by/
[DISTINCT]: https://www.sqlitetutorial.net/sqlite-select-distinct
[WHERE]: https://www.sqlitetutorial.net/sqlite-where/
[LIMIT]: https://www.sqlitetutorial.net/sqlite-limit/
[OFFSET]: https://www.sqlitetutorial.net/sqlite-limit/
[INNER JOIN]: https://www.sqlitetutorial.net/sqlite-inner-join/
[LEFT JOIN]: https://www.sqlitetutorial.net/sqlite-left-join/
[GROUP BY]: https://www.sqlitetutorial.net/sqlite-group-by/
[HAVING]: https://www.sqlitetutorial.net/sqlite-having/

## Примеры SQLite SELECT ##############

Давайте взглянем на таблицу `tracks` в тестовой БД.

|   tracks       |
|----------------|
| * Tracked      |
|   Name         |
|   AlbumId      |
|   MediaTypeId  |
|   GenderId     |
|   Composer     |
|   Milliseconds |
|   Bytes        |
|   UnitPrice    |

Таблица `tracks` содержит столбцы и строки. Это похоже на обычную таблицу.

Чтобы получить из таблицы `tracks` такие данные как, id трека, название трека, компоситора и цену, вы должны использовать следующее выражение:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT
  trackid,
  name,
  composer,
  unitprice
FROM
  tracks;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

В предложении `SELECT` вы указываете список имен столбцов, по которым хотите получить данные, и таблицу `tracks` в предложении `FROM`. SQLite вернет следующий результат: ([Выполнить запрос][querys])

Чтобы получить данные по всем столбцам из таблицы `tracks`, укажите столбцы в предложении `SELECT` следующим образом: 

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT
  trackid,
  name,
  albumid,
  mediatypeid,
  genreid,
  composer,
  milliseconds,
  bytes,
  unitprice
FROM
  tracks;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Для таблиц с большим количеством столбцов, запрос будет настолько длинным, что на его ввод потребуется много времени. Чтобы этого избежать используйте звездочку `*`, которая является сокращением для всех столбцов таблицы:

~~~ SQL ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SELECT * FROM tracks;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Теперь запрос короче и чище.

Однако...

Вы должны использовать `*` только в тестовых целях, а не при разработке реального приложения.

Потому что...

Когда вы разрабатываете приложение, вы должны контролировать, что SQLite возвращает для вашего приложения. Предположим, таблица имеет 3 столбца, и вы используете `*` извлечения данных из всех трех столбцов.

Что если кто-то удалит один столбец, ваше приложение больше не будет работать правильно, потому что оно предпологает, что вернется три столбца, и логика обработки этих трех столбцов будет нарушена. 

Если кто-то добавит больше столбцов, ваше приложение может работать, но оно будет получать больше данных, чем ему требуется, что создает большую нагрузку на канал между БД и приложением.

Так что постарайтесь избегать использования `*`, что может стать хорошей привычкой, при использовании оператора `SELECT`.

В этом руководстве вы изучили, как использовать простую форму оператора `SELECT` для запроса данных из одной таблицы.

Слудующее руководство > [SQLite ORDER BY][next]

[next]: ../SQLiteOrderBy/translate.md